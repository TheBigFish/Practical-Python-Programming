## 可迭代对象

使用 iter 内置函数可以获取迭代器的对象。  
如果对象实现了能返
回迭代器的 \_\_iter\_\_ 方法，那么对象就是可迭代的。  
序列都可以迭
代；  
实现了 \_\_getitem\_\_ 方法，而且其参数是从零开始的索引，这种
对象也可以迭代。

## 可迭代的对象和迭代器之间的关系

> Python 从可迭代的对象
> 中获取迭代器

## 序列可以迭代的原因

iter 函数  
解释器需要迭代对象 x 时，会自动调用 iter(x)。

内置的 iter 函数有以下作用。

1. 检查对象是否实现了 \_\_iter\_\_ 方法，如果实现了就调用它，获取
   一个迭代器。
2. 如果没有实现 \_\_iter\_\_ 方法，但是实现了 \_\_getitem\_\_ 方法，
   Python 会创建一个迭代器，尝试按顺序（从索引 0 开始）获取元素。
3. 如果尝试失败，Python 抛出 TypeError 异常，通常会提示“C object
   is not iterable”（C 对象不可迭代），其中 C 是目标对象所属的类。

任何 Python 序列都可迭代的原因是，它们都实现了 \_\_getitem\_\_ 方
法。其实，标准的序列也都实现了 \_\_iter\_\_ 方法，因此你也应该这么
做。之所以对 \_\_getitem\_\_ 方法做特殊处理，是为了向后兼容，而未
来可能不会再这么做（不过，写作本书时还未弃用）。
